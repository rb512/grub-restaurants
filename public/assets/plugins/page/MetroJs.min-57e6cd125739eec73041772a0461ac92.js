/*!
* Metro JS for jQuery
* http://drewgreenwell.com/ 
* For details and usage info see: http://drewgreenwell.com/projects/metrojs
Copyright (C) 2013, Drew Greenwell
Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), 
to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, 
and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, 
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
!function(t){var e,i;t.fn.metrojs={capabilities:null,checkCapabilities:function(e,i){return(null==t.fn.metrojs.capabilities||"undefined"!=typeof i&&1==i)&&(t.fn.metrojs.capabilities=new t.fn.metrojs.MetroModernizr(e)),t.fn.metrojs.capabilities}},e=t.fn.metrojs,i=99e3,t.fn.liveTile=function(e){var i,s;if(n[e]){for(i=[],s=1;s<=arguments.length;s++)i[s-1]=arguments[s];return n[e].apply(this,i)}return"object"!=typeof e&&e?(t.error("Method "+e+" does not exist on jQuery.liveTile"),null):n.init.apply(this,arguments)},t.fn.liveTile.contentModules={modules:[],addContentModule:function(t,e){this.modules instanceof Array||(this.modules=[]),this.modules.push(e)},hasContentModule:function(t){if("undefined"==typeof t||!(this.modules instanceof Array))return-1;for(var e=0;e<this.modules.length;e++)if("undefined"!=typeof this.modules[e].moduleName&&this.modules[e].moduleName==t)return e;return-1}},t.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,bounceDirections:"all",bounceFollowsMove:!0,pauseOnHover:!1,pauseOnHoverEvent:"both",playOnHover:!1,playOnHoverEvent:"both",onHoverDelay:0,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,flipListOnHoverEvent:"mouseout",noHAflipOpacity:"1",haTransFunc:"ease",noHaTransFunc:"linear",currentIndex:0,startNow:!0,useModernizr:"undefined"!=typeof window.Modernizr,useHardwareAccel:!0,useTranslate:!0,faces:{$front:null,$back:null},animationStarting:function(){},animationComplete:function(){},triggerDelay:function(){return 3e3*Math.random()},swap:"",swapFront:"-",swapBack:"-",contentModules:[]};var n={init:function(i){var n=t.extend({},t.fn.liveTile.defaults,i);return e.checkCapabilities(n),a.getBrowserPrefix(),-1==t.fn.liveTile.contentModules.hasContentModule("image")&&t.fn.liveTile.contentModules.addContentModule("image",r.imageSwap),-1==t.fn.liveTile.contentModules.hasContentModule("html")&&t.fn.liveTile.contentModules.addContentModule("html",r.htmlSwap),t(this).each(function(e,i){var a,r=t(i),o=s.initTileData(r,n);o.faces=s.prepTile(r,o),o.fade=function(t){s.fade(r,t)},o.slide=function(t){s.slide(r,t)},o.carousel=function(t){s.carousel(r,t)},o.flip=function(t){s.flip(r,t)},o.flipList=function(t){s.flipList(r,t)},a={fade:o.fade,slide:o.slide,carousel:o.carousel,flip:o.flip,"flip-list":o.flipList},o.doAction=function(t){var e=a[o.mode];"function"==typeof e&&(e(t),o.hasRun=!0),t==o.timer.repeatCount&&(o.runEvents=!1)},o.timer=new t.fn.metrojs.TileTimer(o.delay,o.doAction,o.repeatCount),r.data("LiveTile",o),("flip-list"!==o.mode||0==o.flipListOnHover)&&(o.pauseOnHover?s.bindPauseOnHover(r):o.playOnHover&&s.bindPlayOnHover(r,o)),(o.link.length>0||"function"==typeof o.click)&&r.css({cursor:"pointer"}).bind("click.liveTile",function(t){var e=!0;"function"==typeof o.click&&(e=o.click(r,o)||!1),e&&o.link.length>0&&(t.preventDefault(),o.newWindow?window.open(o.link):window.location=o.link)}),s.bindBounce(r,o),o.startNow&&"none"!=o.mode&&(o.runEvents=!0,o.timer.start(o.initDelay))})},"goto":function(e){var i,n,s=typeof e;if("undefined"===s&&(i={index:-99,delay:0,autoAniDirection:!1}),"number"!==s&&isNaN(e))if("string"===s)if("next"==e)i={index:-99,delay:0};else{if(0!==e.indexOf("prev"))return t.error(e+' is not a recognized action for .liveTile("goto")'),t(this);i={index:-100,delay:0}}else"object"===s&&("undefined"==typeof e.delay&&(e.delay=0),n=typeof e.index,"undefined"===n?e.index=0:"string"===n&&("next"===e.index?e.index=-99:0===e.index.indexOf("prev")&&(e.index=-100)),i=e);else i={index:parseInt(e,10),delay:0};return t(this).each(function(e,n){var s,a,r=t(n),o=r.data("LiveTile"),l=r.data("metrojs.tile"),h=i.index;if(l.animating===!0)return t(this);if("carousel"===o.mode){if(s=o.faces.$listTiles.filter(".active"),a=o.faces.$listTiles.index(s),-100===h?(("undefined"==typeof i.autoAniDirection||1==i.autoAniDirection)&&(o.tempValues.animationDirection="undefined"==typeof i.animationDirection?"backward":i.animationDirection),h=0===a?o.faces.$listTiles.length-1:a-1):-99===h&&(("undefined"==typeof i.autoAniDirection||1==i.autoAniDirection)&&(o.tempValues.animationDirection="undefined"==typeof i.animationDirection?"forward":i.animationDirection),h=a+1),a==h)return;"undefined"!=typeof i.direction&&(o.tempValues.direction=i.direction),"undefined"!=typeof i.animationDirection&&(o.tempValues.animationDirection=i.animationDirection),o.currentIndex=0==h?o.faces.$listTiles.length:h-1}else o.currentIndex=h;o.runEvents=!0,o.timer.start(i.delay>=0?i.delay:o.delay)})},play:function(e){var i,n=typeof e;return"undefined"===n?i={delay:-1}:"number"===n?i={delay:e}:"object"===n&&("undefined"==typeof e.delay&&(e.delay=-1),i=e),t(this).each(function(e,n){var s=t(n),a=s.data("LiveTile");a.runEvents=!0,i.delay<0&&!a.hasRun&&(i.delay=a.initDelay),a.timer.start(i.delay>=0?i.delay:a.delay)})},animate:function(){return t(this).each(function(e,i){var n=t(i),s=n.data("LiveTile");s.doAction()})},stop:function(){return t(this).each(function(e,i){var n=t(i),s=n.data("LiveTile");s.hasRun=!1,s.runEvents=!1,s.timer.stop(),window.clearTimeout(s.eventTimeout),window.clearTimeout(s.flCompleteTimeout),window.clearTimeout(s.completeTimeout),"flip-list"===s.mode&&s.faces.$listTiles.each(function(e,i){var n=t(i).data("metrojs.tile");window.clearTimeout(n.eventTimeout),window.clearTimeout(n.flCompleteTimeout),window.clearTimeout(n.completeTimeout)})})},pause:function(){return t(this).each(function(e,i){var n=t(i),s=n.data("LiveTile");s.timer.pause(),s.runEvents=!1,window.clearTimeout(s.eventTimeout),window.clearTimeout(s.flCompleteTimeout),window.clearTimeout(s.completeTimeout),"flip-list"===s.mode&&s.faces.$listTiles.each(function(e,i){var n=t(i).data("metrojs.tile");window.clearTimeout(n.eventTimeout),window.clearTimeout(n.flCompleteTimeout),window.clearTimeout(n.completeTimeout)})})},restart:function(e){var i,n=typeof e;return"undefined"===n?i={delay:-1}:"number"===n?i={delay:e}:"object"===n&&("undefined"==typeof e.delay&&(e.delay=-1),i=e),t(this).each(function(e,n){var s=t(n),a=s.data("LiveTile");i.delay<0&&!a.hasRun&&(i.delay=a.initDelay),a.hasRun=!1,a.runEvents=!0,a.timer.restart(i.delay>=0?i.delay:a.delay)})},rebind:function(e){return t(this).each(function(t,i){"undefined"!=typeof e?("undefined"!=typeof e.timer&&null!=e.timer&&e.timer.stop(),e.hasRun=!1,n.init.apply(i,e)):n.init.apply(i,{})})},destroy:function(e){var i,n=typeof e;return"undefined"===n?i={removeCss:!1}:"boolean"===n?i={removeCss:e}:"object"===n&&("undefined"==typeof e.removeCss&&(e.removeCss=!1),i=e),t(this).each(function(e,n){var r,o=t(n),l=o.data("LiveTile");"undefined"!=typeof l&&(o.unbind(".liveTile"),r=a.appendStyleProperties({margin:"",cursor:""},["transform","transition"],["",""]),l.timer.stop(),window.clearTimeout(l.eventTimeout),window.clearTimeout(l.flCompleteTimeout),window.clearTimeout(l.completeTimeout),null!=l.faces.$listTiles&&l.faces.$listTiles.each(function(e,n){var a,o,h=t(n);"flip-list"===l.mode?(a=h.data("metrojs.tile"),window.clearTimeout(a.eventTimeout),window.clearTimeout(a.flCompleteTimeout),window.clearTimeout(a.completeTimeout)):"carousel"===l.mode&&(o=l.listData[e],o.bounce&&s.unbindMsBounce(h,o)),i.removeCss?(h.removeClass("ha"),h.find(l.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css(r)):h.find(l.tileFaceSelector).unbind(".liveTile"),h.removeData("metrojs.tile")}).unbind(".liveTile"),null!=l.faces.$front&&i.removeCss&&l.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css(r),null!=l.faces.$back&&i.removeCss&&l.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css(r),l.bounce&&s.unbindMsBounce(o,l),l.playOnHover&&s.unbindMsPlayOnHover(o,l),l.pauseOnhover&&s.unbindMsPauseOnHover(o,l),o.removeClass("ha"),o.removeData("LiveTile"),o.removeData("metrojs.tile"),l=null)})}},s={dataAtr:function(t,e,i){return"undefined"!=typeof t.attr("data-"+e)?t.attr("data-"+e):i},dataMethod:function(t,e,i){return"undefined"!=typeof t.data(e)?t.data(e):i},getDataOrDefault:null,initTileData:function(i,n){var a,r,o,l,h=0==n.ignoreDataAttributes,c=null;null==this.getDataOrDefault&&(this.getDataOrDefault=e.capabilities.isOldJQuery?this.dataAtr:this.dataMethod),c=h?{speed:this.getDataOrDefault(i,"speed",n.speed),delay:this.getDataOrDefault(i,"delay",n.delay),stops:this.getDataOrDefault(i,"stops",n.stops),stack:this.getDataOrDefault(i,"stack",n.stack),mode:this.getDataOrDefault(i,"mode",n.mode),direction:this.getDataOrDefault(i,"direction",n.direction),useHardwareAccel:this.getDataOrDefault(i,"ha",n.useHardwareAccel),repeatCount:this.getDataOrDefault(i,"repeat",n.repeatCount),swap:this.getDataOrDefault(i,"swap",n.swap),appendBack:this.getDataOrDefault(i,"appendback",n.appendBack),currentIndex:this.getDataOrDefault(i,"start-index",n.currentIndex),animationDirection:this.getDataOrDefault(i,"ani-direction",n.animationDirection),startNow:this.getDataOrDefault(i,"start-now",n.startNow),tileSelector:this.getDataOrDefault(i,"tile-selector",n.tileSelector),tileFaceSelector:this.getDataOrDefault(i,"face-selector",n.tileFaceSelector),bounce:this.getDataOrDefault(i,"bounce",n.bounce),bounceDirections:this.getDataOrDefault(i,"bounce-dir",n.bounceDirections),bounceFollowsMove:this.getDataOrDefault(i,"bounce-follows",n.bounceFollowsMove),click:this.getDataOrDefault(i,"click",n.click),link:this.getDataOrDefault(i,"link",n.link),newWindow:this.getDataOrDefault(i,"new-window",n.newWindow),alwaysTrigger:this.getDataOrDefault(i,"always-trigger",n.alwaysTrigger),flipListOnHover:this.getDataOrDefault(i,"flip-onhover",n.flipListOnHover),pauseOnHover:this.getDataOrDefault(i,"pause-onhover",n.pauseOnHover),playOnHover:this.getDataOrDefault(i,"play-onhover",n.playOnHover),onHoverDelay:this.getDataOrDefault(i,"hover-delay",n.onHoverDelay),noHAflipOpacity:this.getDataOrDefault(i,"flip-opacity",n.noHAflipOpacity),useTranslate:this.getDataOrDefault(i,"use-translate",n.useTranslate),runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:i.height(),width:i.width(),tempValues:{}}:t.extend(!0,{runEvents:!1,isReversed:!1,loopCount:0,contentModules:[],listData:[],height:i.height(),width:i.width(),tempValues:{}},n),c.useTranslate=c.useTranslate&&c.useHardwareAccel&&e.capabilities.canTransform&&e.capabilities.canTransition,c.margin="vertical"===c.direction?c.height/2:c.width/2,c.stops="object"==typeof n.stops&&n.stops instanceof Array?n.stops:(""+c.stops).split(","),1===c.stops.length&&c.stops.push("0px");var u=c.swap.replace(" ","").split(","),d=h?this.getDataOrDefault(i,"swap-front",n.swapFront):n.swapFront,f=h?this.getDataOrDefault(i,"swap-back",n.swapBack):n.swapBack;for(c.swapFront="-"===d?u:d.replace(" ","").split(","),c.swapBack="-"===f?u:f.replace(" ","").split(","),a=0;a<c.swapFront.length;a++)c.swapFront[a].length>0&&-1===t.inArray(c.swapFront[a],u)&&u.push(c.swapFront[a]);for(a=0;a<c.swapBack.length;a++)c.swapBack[a].length>0&&-1===t.inArray(c.swapBack[a],u)&&u.push(c.swapBack[a]);for(c.swap=u,a=0;a<u.length;a++)u[a].length>0&&(r=t.fn.liveTile.contentModules.hasContentModule(u[a]),r>-1&&c.contentModules.push(t.fn.liveTile.contentModules.modules[r]));for(c.initDelay=h?this.getDataOrDefault(i,"initdelay",n.initDelay):n.initDelay,c.delay<-1?c.delay=n.triggerDelay(1):c.delay<0&&(c.delay=3500+4501*Math.random()),c.initDelay<0&&(c.initDelay=c.delay),o={},a=0;a<c.contentModules.length;a++)t.extend(o,c.contentModules[a].data);for(t.extend(o,n,c),"flip-list"===o.mode?(l=i.find(o.tileSelector).not(".tile-title"),l.each(function(e,i){var n=t(i),a={direction:h?s.getDataOrDefault(n,"direction",o.direction):o.direction,newWindow:h?s.getDataOrDefault(n,"new-window",!1):!1,link:h?s.getDataOrDefault(n,"link",""):"",faces:{$front:null,$back:null},height:n.height(),width:n.width(),isReversed:!1};a.margin="vertical"===a.direction?a.height/2:a.width/2,o.listData.push(a)})):"carousel"===o.mode&&(o.stack=!0,l=i.find(o.tileSelector).not(".tile-title"),l.each(function(e,i){var n=t(i),a={bounce:h?s.getDataOrDefault(n,"bounce",!1):!1,bounceDirections:h?s.getDataOrDefault(n,"bounce-dir","all"):"all",link:h?s.getDataOrDefault(n,"link",""):"",newWindow:h?s.getDataOrDefault(n,"new-window",!1):!1,animationDirection:h?s.getDataOrDefault(n,"ani-direction",""):"",direction:h?s.getDataOrDefault(n,"direction",""):""};o.listData.push(a)})),a=0;a<c.contentModules.length;a++)"function"==typeof o.contentModules[a].initData&&o.contentModules[a].initData(o,i);return c=null,o},prepTile:function(n,r){var o,l,h,c,u,d,f,p;switch(n.addClass(r.mode),o={$tileFaces:null,$listTiles:null,$front:null,$back:null},r.mode){case"fade":o.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),o.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("fade-front"):o.$tileFaces.filter(":first").addClass("fade-front"),o.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("fade-back"):o.$tileFaces.length>1?o.$tileFaces.filter(":last").addClass("fade-back"):r.appendBack?t('<div class="fade-back"></div>').appendTo(n):t("<div></div>");break;case"slide":o.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),o.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("slide-front"):o.$tileFaces.filter(":first").addClass("slide-front"),o.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("slide-back"):o.$tileFaces.length>1?o.$tileFaces.filter(":last").addClass("slide-back"):r.appendBack?t('<div class="slide-back"></div>').appendTo(n):t("<div></div>"),1==r.stack&&("vertical"===r.direction?(d="top",f="translate(0%, -100%) translateZ(0)"):(d="left",f="translate(-100%, 0%) translateZ(0)"),c={},r.useTranslate?a.appendStyleProperties(c,["transform"],[f]):c[d]="-100%",o.$back.css(c)),n.data("metrojs.tile",{animating:!1}),e.capabilities.canTransition&&r.useHardwareAccel&&(n.addClass("ha"),o.$front.addClass("ha"),o.$back.addClass("ha"));break;case"carousel":o.$listTiles=n.find(r.tileSelector).not(".tile-title"),p=o.$listTiles.length,n.data("metrojs.tile",{animating:!1}),r.currentIndex=Math.min(r.currentIndex,p-1),o.$listTiles.each(function(i,n){var o=t(n).addClass("slide"),l=r.listData[i],h="string"==typeof l.animationDirection&&l.animationDirection.length>0?l.animationDirection:r.animationDirection,c="string"==typeof l.direction&&l.direction.length>0?l.direction:r.direction;i==r.currentIndex?o.addClass("active"):"forward"===h?"vertical"===c?(u=r.useTranslate?a.appendStyleProperties({},["transform"],["translate(0%, 100%) translateZ(0)"]):{left:"0%",top:"100%"},o.css(u)):(u=r.useTranslate?a.appendStyleProperties({},["transform"],["translate(100%, 0%) translateZ(0)"]):{left:"100%",top:"0%"},o.css(u)):"backward"===h&&("vertical"===c?(u=r.useTranslate?a.appendStyleProperties({},["transform"],["translate(0%, -100%) translateZ(0)"]):{left:"0%",top:"-100%"},o.css(u)):(u=r.useTranslate?a.appendStyleProperties({},["transform"],["translate(-100%, 0%) translateZ(0)"]):{left:"-100%",top:"0%"},o.css(u))),s.bindLink(o,l),r.useHardwareAccel&&e.capabilities.canTransition&&s.bindBounce(o,l),o=null,l=null}),e.capabilities.canFlip3d&&r.useHardwareAccel&&(n.addClass("ha"),o.$listTiles.addClass("ha"));break;case"flip-list":o.$listTiles=n.find(r.tileSelector).not(".tile-title"),o.$listTiles.each(function(n,o){var u,d,f,p,g=t(o).addClass("tile-"+(n+1)),m=g.find(r.tileFaceSelector).filter(":first").addClass("flip-front").css({margin:"0px"});1===g.find(r.tileFaceSelector).length&&1==r.appendBack&&g.append("<div></div>"),u=g.find(r.tileFaceSelector).filter(":last").addClass("flip-back").css({margin:"0px"}),r.listData[n].faces.$front=m,r.listData[n].faces.$back=u,g.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:n}),d=g.data("metrojs.tile"),e.capabilities.canFlip3d&&r.useHardwareAccel?(g.addClass("ha"),m.addClass("ha"),u.addClass("ha"),l="vertical"===r.listData[n].direction?"rotateX(180deg)":"rotateY(180deg)",c=a.appendStyleProperties({},["transform"],[l]),u.css(c)):(h="vertical"===r.listData[n].direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},c="vertical"===r.listData[n].direction?{height:"0px",width:"100%",marginTop:r.listData[n].margin+"px",opacity:r.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:r.listData[n].margin+"px",opacity:r.noHAflipOpacity},m.css(h),u.css(c)),f=function(){d.count++,d.count>=i&&(d.count=1)},r.flipListOnHover&&(p=r.flipListOnHoverEvent+".liveTile",m.bind(p,function(){s.flip(g,d.count,r,f)}),u.bind(p,function(){s.flip(g,d.count,r,f)})),r.listData[n].link.length>0&&g.css({cursor:"pointer"}).bind("click.liveTile",function(){r.listData[n].newWindow?window.open(r.listData[n].link):window.location=r.listData[n].link})});break;case"flip":o.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),o.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("flip-front"):o.$tileFaces.filter(":first").addClass("flip-front"),o.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("flip-back"):o.$tileFaces.length>1?o.$tileFaces.filter(":last").addClass("flip-back"):r.appendBack?t('<div class="flip-back"></div>').appendTo(n):t("<div></div>"),n.data("metrojs.tile",{animating:!1}),e.capabilities.canFlip3d&&r.useHardwareAccel?(n.addClass("ha"),o.$front.addClass("ha"),o.$back.addClass("ha"),l="vertical"===r.direction?"rotateX(180deg)":"rotateY(180deg)",c=a.appendStyleProperties({},["transform"],[l]),o.$back.css(c)):(h="vertical"===r.direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},c="vertical"===r.direction?{height:"0%",width:"100%",marginTop:r.margin+"px",opacity:"0"}:{height:"100%",width:"0%",marginLeft:r.margin+"px",opacity:"0"},o.$front.css(h),o.$back.css(c))}return o},bindPauseOnHover:function(i){!function(){var n=i.data("LiveTile"),s=!1,a=!1,r="both"==n.pauseOnHoverEvent||"mouseover"==n.pauseOnHoverEvent||"mouseenter"==n.pauseOnHoverEvent,o="both"==n.pauseOnHoverEvent||"mouseout"==n.pauseOnHoverEvent||"mouseleave"==n.pauseOnHoverEvent;n.pOnHoverMethods={pause:function(){n.timer.pause(),"flip-list"===n.mode&&n.faces.$listTiles.each(function(e,i){window.clearTimeout(t(i).data("metrojs.tile").completeTimeout)})},over:function(){s||a||n.runEvents&&(a=!0,n.eventTimeout=window.setTimeout(function(){a=!1,o&&(s=!0),n.pOnHoverMethods.pause()},n.onHoverDelay))},out:function(){if(a)return window.clearTimeout(n.eventTimeout),a=!1,void 0;if(r){if(!s&&!a)return;n.runEvents&&n.timer.start(n.hasRun?n.delay:n.initDelay)}else n.pOnHoverMethods.pause();s=!1}},e.capabilities.canTouch?window.navigator.msPointerEnabled?(r&&i[0].addEventListener("MSPointerOver",n.pOnHoverMethods.over,!1),o&&i[0].addEventListener("MSPointerOut",n.pOnHoverMethods.out,!1)):(r&&i.bind("touchstart.liveTile",n.pOnHoverMethods.over),o&&i.bind("touchend.liveTile",n.pOnHoverMethods.out)):(r&&i.bind("mouseover.liveTile",n.pOnHoverMethods.over),o&&i.bind("mouseout.liveTile",n.pOnHoverMethods.out))}()},unbindMsPauseOnHover:function(t,e){"undefined"!=typeof e.pOnHoverMethods&&window.navigator.msPointerEnabled&&(t[0].removeEventListener("MSPointerOver",e.pOnHoverMethods.over,!1),t[0].removeEventListener("MSPointerOut",e.pOnHoverMethods.out,!1))},bindPlayOnHover:function(t,i){!function(){var s=!1,a=!1,r="both"==i.playOnHoverEvent||"mouseover"==i.playOnHoverEvent||"mouseenter"==i.playOnHoverEvent,o="both"==i.playOnHoverEvent||"mouseout"==i.playOnHoverEvent||"mouseleave"==i.playOnHoverEvent;i.onHoverMethods={over:function(){if(!(s||a||i.bounce&&"no"!=i.bounceMethods.down)){var e="flip"==i.mode||(i.startNow?!i.isReversed:i.isReversed);window.clearTimeout(i.eventTimeout),(i.runEvents&&e||!i.hasRun)&&(a=!0,i.eventTimeout=window.setTimeout(function(){a=!1,o&&(s=!0),n.play.apply(t[0],[0])},i.onHoverDelay))}},out:function(){return a?(window.clearTimeout(i.eventTimeout),a=!1,void 0):((!r||s||a)&&(window.clearTimeout(i.eventTimeout),i.eventTimeout=window.setTimeout(function(){var e="flip"==i.mode||(i.startNow?i.isReversed:!i.isReversed);i.runEvents&&e&&n.play.apply(t[0],[0]),s=!1},i.speed+200)),void 0)}},e.capabilities.canTouch?window.navigator.msPointerEnabled?(r&&t[0].addEventListener("MSPointerDown",i.onHoverMethods.over,!1),o&&t.bind("mouseleave.liveTile",i.onHoverMethods.out)):(r&&t.bind("touchstart.liveTile",i.onHoverMethods.over),o&&t.bind("touchend.liveTile",i.onHoverMethods.out)):(r&&t.bind("mouseenter.liveTile",i.onHoverMethods.over),o&&t.bind("mouseleave.liveTile",i.onHoverMethods.out))}()},unbindMsPlayOnHover:function(t,e){"undefined"!=typeof e.onHoverMethods&&window.navigator.msPointerEnabled&&t[0].removeEventListener("MSPointerDown",e.onHoverMethods.over,!1)},bindBounce:function(i,n){n.bounce&&(i.addClass("bounce"),i.addClass("noselect"),function(){n.bounceMethods={down:"no",threshold:30,zeroPos:{x:0,y:0},eventPos:{x:0,y:0},inTilePos:{x:0,y:0},pointPos:{x:0,y:0},regions:{c:[0,0],tl:[-1,-1],tr:[1,-1],bl:[-1,1],br:[1,1],t:[null,-1],r:[1,null],b:[null,1],l:[-1,null]},targets:{all:["c","t","r","b","l","tl","tr","bl","br"],edges:["c","t","r","b","l"],corners:["c","tl","tr","bl","br"]},hitTest:function(i,s,a,r){var o,l,h=n.bounceMethods.regions,c=n.bounceMethods.targets[a],u=0,d=null,f=null,p={hit:[0,0],name:"c"};if(e.capabilities.isOldAndroid||!e.capabilities.canTransition)return p;"undefined"==typeof c&&("string"==typeof a&&(c=a.split(",")),t.isArray(c)&&-1==t.inArray("c")&&(r=0,p=null));for(var g=i.width(),m=i.height(),v=[g*r,m*r],b=s.x-.5*g,y=s.y-.5*m,w=[b>0?Math.abs(b)<=v[0]?0:1:Math.abs(b)<=v[0]?0:-1,y>0?Math.abs(y)<=v[1]?0:1:Math.abs(y)<=v[1]?0:-1];u<c.length;u++){if(null!=d)return d;if(o=c[u],l=h[o],"*"==o)return o=c[u+1],{region:h[o],name:o};w[0]==l[0]&&w[1]==l[1]?d={hit:l,name:o}:(w[0]==l[0]||null==l[0])&&(w[1]==l[1]||null==l[1])&&(f={hit:l,name:o})}return null!=d?d:null!=f?f:p},bounceDown:function(e){var s,r,o;if("A"!=e.target.tagName||t(e).is(".bounce")){{var l=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches[0]:e,h=i.offset();window.pageXOffset,window.pageYOffset}n.bounceMethods.pointPos={x:l.pageX,y:l.pageY},n.bounceMethods.inTilePos={x:l.pageX-h.left,y:l.pageY-h.top},n.$tileParent||(n.$tileParent=i.parent()),s=n.$tileParent.offset(),n.bounceMethods.eventPos={x:h.left-s.left+i.width()/2,y:h.top-s.top+i.height()/2},r=n.bounceMethods.hitTest(i,n.bounceMethods.inTilePos,n.bounceDirections,.25),null==r?n.bounceMethods.down="no":(window.navigator.msPointerEnabled?(document.addEventListener("MSPointerUp",n.bounceMethods.bounceUp,!1),i[0].addEventListener("MSPointerUp",n.bounceMethods.bounceUp,!1),document.addEventListener("MSPointerCancel",n.bounceMethods.bounceUp,!1),n.bounceFollowsMove&&i[0].addEventListener("MSPointerMove",n.bounceMethods.bounceMove,!1)):(t(document).bind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",n.bounceMethods.bounceUp),n.bounceFollowsMove&&(i.bind("touchmove.liveTile",n.bounceMethods.bounceMove),i.bind("mousemove.liveTile",n.bounceMethods.bounceMove))),o="bounce-"+r.name,i.addClass(o),n.bounceMethods.down=o,n.bounceMethods.downPcss=a.appendStyleProperties({},["perspective-origin"],[n.bounceMethods.eventPos.x+"px "+n.bounceMethods.eventPos.y+"px"]),n.$tileParent.css(n.bounceMethods.downPcss))}},bounceUp:function(){"no"!=n.bounceMethods.down&&(n.bounceMethods.unBounce(),window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerUp",n.bounceMethods.bounceUp,!1),i[0].removeEventListener("MSPointerUp",n.bounceMethods.bounceUp,!1),document.removeEventListener("MSPointerCancel",n.bounceMethods.bounceUp,!1),n.bounceFollowsMove&&i[0].removeEventListener("MSPointerMove",n.bounceMethods.bounceMove,!1)):t(document).unbind("mouseup.liveTile, touchend.liveTile, touchcancel.liveTile, dragstart.liveTile",n.bounceMethods.bounceUp),n.bounceFollowsMove&&(i.unbind("touchmove.liveTile",n.bounceMethods.bounceMove),i.unbind("mousemove.liveTile",n.bounceMethods.bounceMove)))},bounceMove:function(t){var e;if("no"!=n.bounceMethods.down){var s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0]:t,a=Math.abs(s.pageX-n.bounceMethods.pointPos.x),r=Math.abs(s.pageY-n.bounceMethods.pointPos.y);(a>n.bounceMethods.threshold||r>n.bounceMethods.threshold)&&(e=n.bounceMethods.down,n.bounceMethods.bounceDown(t),e!=n.bounceMethods.down&&i.removeClass(e))}},unBounce:function(){i.removeClass(n.bounceMethods.down),"object"==typeof n.bounceMethods.downPcss&&(n.bounceMethods.downPcss=a.appendStyleProperties({},["perspective-origin","perspective-origin-x","perspective-origin-y"],["","",""]),window.setTimeout(function(){n.$tileParent.css(n.bounceMethods.downPcss)},200)),n.bounceMethods.down="no",n.bounceMethods.inTilePos=n.bounceMethods.zeroPos,n.bounceMethods.eventPos=n.bounceMethods.zeroPos}},window.navigator.msPointerEnabled?i[0].addEventListener("MSPointerDown",n.bounceMethods.bounceDown,!1):e.capabilities.canTouch?i.bind("touchstart.liveTile",n.bounceMethods.bounceDown):i.bind("mousedown.liveTile",n.bounceMethods.bounceDown)}())},unbindMsBounce:function(t,e){e.bounce&&window.navigator.msPointerEnabled&&(t[0].removeEventListener("MSPointerDown",e.bounceMethods.bounceDown,!1),t[0].removeEventListener("MSPointerCancel",e.bounceMethods.bounceUp,!1),t[0].removeEventListener("MSPointerOut",e.bounceMethods.bounceUp,!1))},bindLink:function(e,i){i.link.length>0&&e.css({cursor:"pointer"}).bind("click.liveTile",function(e){("A"!=e.target.tagName||t(e).is(".live-tile,.slide,.flip"))&&(i.newWindow?window.open(i.link):window.location=i.link)})},runContenModules:function(t,e,i,n){for(var s,a=0;a<t.contentModules.length;a++)s=t.contentModules[a],"function"==typeof s.action&&s.action(t,e,i,n)},fade:function(t,e,i){var n,a,r,o="object"==typeof i?i:t.data("LiveTile"),l=function(){(o.timer.repeatCount>0||-1==o.timer.repeatCount)&&o.timer.count!=o.timer.repeatCount&&o.timer.start(o.delay)};if(!o.faces.$front.is(":animated")){if(o.timer.pause(),n=o.loopCount+1,o.isReversed=n%2==0,a=o.animationStarting.call(t[0],o,o.faces.$front,o.faces.$back),"undefined"!=typeof a&&0==a)return l(),void 0;o.loopCount=n,r=function(){l(),s.runContenModules(o,o.faces.$front,o.faces.$back),o.animationComplete.call(t[0],o,o.faces.$front,o.faces.$back)},o.isReversed?o.faces.$front.fadeIn(o.speed,o.noHaTransFunc,r):o.faces.$front.fadeOut(o.speed,o.noHaTransFunc,r)}},slide:function(i,n,r,o,l){var h,c,u,d,f,p,g,m,v,b,y="object"==typeof r?r:i.data("LiveTile"),w=i.data("metrojs.tile");if(1==w.animating||i.is(":animated"))return y=null,w=null,void 0;if(h=function(){(y.timer.repeatCount>0||-1==y.timer.repeatCount)&&y.timer.count!=y.timer.repeatCount&&y.timer.start(y.delay)},"carousel"!==y.mode){if(y.isReversed=y.currentIndex%2!=0,y.timer.pause(),c=y.animationStarting.call(i[0],y,y.faces.$front,y.faces.$back),"undefined"!=typeof c&&0==c)return h(),void 0;y.loopCount=y.loopCount+1}else y.isReversed=!0;u="string"==typeof y.tempValues.direction&&y.tempValues.direction.length>0?y.tempValues.direction:y.direction,y.tempValues.direction=null;var x={},_={},k="undefined"==typeof o?y.currentIndex:o,C=t.trim(y.stops[Math.min(k,y.stops.length-1)]),S=C.indexOf("px"),T=0,D=0,M="vertical"===u?y.height:y.width,I="vertical"===u?"top":"left",A=1==y.stack,P=function(){"undefined"==typeof l?(y.currentIndex=y.currentIndex+1,y.currentIndex>y.stops.length-1&&(y.currentIndex=0)):l(),"carousel"!=y.mode&&h(),s.runContenModules(y,y.faces.$front,y.faces.$back,y.currentIndex),y.animationComplete.call(i[0],y,y.faces.$front,y.faces.$back),y=null,w=null};if(S>0?(D=parseInt(C.substring(0,S),10),T=D-M+"px"):(D=parseInt(C.replace("%",""),10),T=D-100+"%"),e.capabilities.canTransition&&y.useHardwareAccel){if("undefined"!=typeof w.animating&&1==w.animating)return;w.animating=!0,d=["transition-property","transition-duration","transition-timing-function"],f=[y.useTranslate?"transform":I,y.speed+"ms",y.haTransFunc],f[a.browserPrefix+"transition-property"]=a.browserPrefix+"transform",x=a.appendStyleProperties(x,d,f),_=a.appendStyleProperties(_,d,f),p="vertical"===u,g=p?"top":"left",y.useTranslate?(m=p?"translate(0%, "+C+")":"translate("+C+", 0%)",x=a.appendStyleProperties(x,["transform"],[m+"translateZ(0)"]),A&&(m=p?"translate(0%, "+T+")":"translate("+T+", 0%)",_=a.appendStyleProperties(_,["transform"],[m+"translateZ(0)"]))):(x[g]=C,A&&(_[g]=T)),y.faces.$front.css(x),A&&y.faces.$back.css(_),window.clearTimeout(y.completeTimeout),y.completeTimeout=window.setTimeout(function(){w.animating=!1,P()},y.speed)}else x[I]=C,_[I]=T,w.animating=!0,v=y.faces.$front.stop(),b=y.faces.$back.stop(),v.animate(x,y.speed,y.noHaTransFunc,function(){w.animating=!1,P()}),A&&b.animate(_,y.speed,y.noHaTransFunc,function(){})},carousel:function(t,i){var n,r,o,l,h,c,u,d,f=t.data("LiveTile"),p=t.data("metrojs.tile");if(1==p.animating||f.faces.$listTiles.length<=1)return p=null,void 0;n=function(){(f.timer.repeatCount>0||-1==f.timer.repeatCount)&&f.timer.count!=f.timer.repeatCount&&f.timer.start(f.delay)},f.timer.pause();var g=f.faces.$listTiles.filter(".active"),m=f.faces.$listTiles.index(g),v=f.currentIndex,b=v!=m?v:m,y=b+1>=f.faces.$listTiles.length?0:b+1,w=f.listData[y];return m==y?(p=null,g=null,void 0):(r="string"==typeof f.tempValues.animationDirection&&f.tempValues.animationDirection.length>0?f.tempValues.animationDirection:"string"==typeof w.animationDirection&&w.animationDirection.length>0?w.animationDirection:f.animationDirection,f.tempValues.animationDirection=null,"string"==typeof f.tempValues.direction&&f.tempValues.direction.length>0?o=f.tempValues.direction:"string"==typeof w.direction&&w.direction.length>0?(o=w.direction,f.tempValues.direction=o):o=f.direction,l=f.faces.$listTiles.eq(y),h=f.animationStarting.call(t[0],f,g,l),"undefined"!=typeof h&&0==h?(n(),void 0):(f.loopCount=f.loopCount+1,c=a.appendStyleProperties({},["transition-duration"],["0s"]),u="vertical"===o,"backward"===r?(f.useTranslate&&e.capabilities.canTransition?(d=u?"translate(0%, -100%)":"translate(-100%, 0%)",c=a.appendStyleProperties(c,["transform"],[d+" translateZ(0)"]),f.stops=["100%"]):(u?(c.top="-100%",c.left="0%"):(c.top="0%",c.left="-100%"),f.stops=["100%"]),f.faces.$front=g,f.faces.$back=l):(f.useTranslate&&e.capabilities.canTransition?(d=u?"translate(0%, 100%)":"translate(100%, 0%)",c=a.appendStyleProperties(c,["transform"],[d+" translateZ(0)"])):u?(c.top="100%",c.left="0%"):(c.top="0%",c.left="100%"),f.faces.$front=l,f.faces.$back=g,f.stops=["0%"]),l.css(c),window.setTimeout(function(){g.removeClass("active"),l.addClass("active"),s.slide(t,i,f,0,function(){f.currentIndex=y,p=null,g=null,l=null,n()})},150),void 0))},flip:function(t,i,n,r){var o,l,h,c,u=t.data("metrojs.tile");if(1==u.animating)return u=null,void 0;var d,f,p,g,m,v,b,y="object"==typeof n?n:t.data("LiveTile"),w="undefined"==typeof r,x=0,_=function(){(y.timer.repeatCount>0||-1==y.timer.repeatCount)&&y.timer.count!=y.timer.repeatCount&&y.timer.start(y.delay)};if(w){if(y.timer.pause(),o=y.loopCount+1,b=o%2==0,y.isReversed=b,d=y.faces.$front,f=y.faces.$back,l=b?[y,f,d]:[y,d,f],h=y.animationStarting.apply(t[0],l),"undefined"!=typeof h&&0==h)return _(),void 0;p=y.direction,height=y.height,width=y.width,margin=y.margin,y.loopCount=o}else b=i%2==0,x=u.index,d=y.listData[x].faces.$front,f=y.listData[x].faces.$back,y.listData[x].isReversed=b,p=y.listData[x].direction,height=y.listData[x].height,width=y.listData[x].width,margin=y.listData[x].margin;if(e.capabilities.canFlip3d&&y.useHardwareAccel){g=b?"360deg":"180deg",m="vertical"===p?"rotateX("+g+")":"rotateY("+g+")",v=a.appendStyleProperties({},["transform","transition"],[m,"all "+y.speed+"ms "+y.haTransFunc+" 0s"]);var k=b?"540deg":"360deg",C="vertical"===p?"rotateX("+k+")":"rotateY("+k+")",S=a.appendStyleProperties({},["transform","transition"],[C,"all "+y.speed+"ms "+y.haTransFunc+" 0s"]);d.css(v),f.css(S),c=function(){u.animating=!1;var e,i;b?(e="vertical"===p?"rotateX(0deg)":"rotateY(0deg)",i=a.appendStyleProperties({},["transform","transition"],[e,"all 0s "+y.haTransFunc+" 0s"]),d.css(i),s.runContenModules(y,d,f,x),w?(_(),y.animationComplete.call(t[0],y,d,f)):r(y,d,f),d=null,f=null,y=null,u=null):(s.runContenModules(y,f,d,x),w?(_(),y.animationComplete.call(t[0],y,f,d)):r(y,f,d))},"flip-list"===y.mode?(window.clearTimeout(y.listData[x].completeTimeout),y.listData[x].completeTimeout=window.setTimeout(c,y.speed)):(window.clearTimeout(y.completeTimeout),y.completeTimeout=window.setTimeout(c,y.speed))}else{var T,D=y.speed/2,M="vertical"===p?{height:"0px",width:"100%",marginTop:margin+"px",opacity:y.noHAflipOpacity}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:y.noHAflipOpacity},I="vertical"===p?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"};
b?(u.animating=!0,f.stop().animate(M,{duration:D}),T=function(){u.animating=!1,d.stop().animate(I,{duration:D,complete:function(){s.runContenModules(y,d,f,x),w?(_(),y.animationComplete.call(t[0],y,d,f)):r(y,d,f),u=null,d=null,f=null}})},"flip-list"===y.mode?(window.clearTimeout(y.listData[u.index].completeTimeout),y.listData[u.index].completeTimeout=window.setTimeout(T,D)):(window.clearTimeout(y.completeTimeout),y.completeTimeout=window.setTimeout(T,D))):(u.animating=!0,d.stop().animate(M,{duration:D}),T=function(){u.animating=!1,f.stop().animate(I,{duration:D,complete:function(){s.runContenModules(y,f,d,x),w?(_(),y.animationComplete.call(t[0],y,f,d)):r(y,f,d),d=null,f=null,y=null,u=null}})},"flip-list"===y.mode?(window.clearTimeout(y.listData[u.index].completeTimeout),y.listData[u.index].completeTimeout=window.setTimeout(T,D)):(window.clearTimeout(y.completeTimeout),y.completeTimeout=window.setTimeout(T,D)))}},flipList:function(e){var n,a=e.data("LiveTile"),r=a.speed,o=!1,l=function(){(a.timer.repeatCount>0||-1==a.timer.repeatCount)&&a.timer.count!=a.timer.repeatCount&&a.timer.start(a.delay)};return a.timer.pause(),n=a.animationStarting.call(e[0],a,null,null),"undefined"!=typeof n&&0==n?(l(),void 0):(a.loopCount=a.loopCount+1,a.faces.$listTiles.each(function(e,n){var l=t(n),h=l.data("metrojs.tile"),c=a.triggerDelay(e),u=a.speed+Math.max(c,0),d=a.alwaysTrigger;d||(d=351*Math.random()>150?!0:!1),d&&(o=!0,r=Math.max(u+a.speed,r),window.clearTimeout(h.flCompleteTimeout),h.flCompleteTimeout=window.setTimeout(function(){s.flip(l,h.count,a,function(){h.count++,h.count>=i&&(h.count=1),l=null,h=null})},u))}),o&&(window.clearTimeout(a.flCompleteTimeout),a.flCompleteTimeout=window.setTimeout(function(){s.runContenModules(a,null,null,-1),a.animationComplete.call(e[0],a,null,null),l()},r+a.speed)),void 0)}},a={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),browserPrefix:null,appendStyleProperties:function(e,i,n){for(var s=0;s<=i.length-1;s++)e[t.trim(this.browserPrefix+i[s])]=n[s],e[t.trim(i[s])]=n[s];return e},applyStyleValue:function(e,i,n){return e[t.trim(this.browserPrefix+i)]=n,e[i]=n,e},getBrowserPrefix:function(){var t,e;if(null==this.browserPrefix){for(t="",e=0;e<=this.domPrefixes.length-1;e++)"undefined"!=typeof document.body.style[this.domPrefixes[e]+"transform"]&&(t=this.domPrefixes[e]);return this.browserPrefix=t}return this.browserPrefix},shuffleArray:function(t){for(var e=[];t.length;)e.push(t.splice(Math.random()*t.length,1));for(;e.length;)t.push(e.pop());return t}},r={moduleName:"custom",customSwap:{data:{customDoSwapFront:function(){return!1},customDoSwapBack:function(){return!1},customGetContent:function(){return null}},initData:function(e){var i={};i.doSwapFront=t.inArray("custom",e.swapFront)>-1&&e.customDoSwapFront(),i.doSwapBack=t.inArray("custom",e.swapBack)>-1&&e.customDoSwapBack(),e.customSwap="undefined"!=typeof e.customSwap?t.extend(i,e.customSwap):i},action:function(){}},htmlSwap:{moduleName:"html",data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(e,i){var n={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};e.ignoreDataAttributes?(n.frontIsRandom=e.frontIsRandom,n.frontIsInGrid=e.frontIsInGrid,n.backIsRandom=e.backIsRandom,n.backIsInGrid=e.backIsInGrid):(n.frontIsRandom=s.getDataOrDefault(i,"front-israndom",e.frontIsRandom),n.frontIsInGrid=s.getDataOrDefault(i,"front-isingrid",e.frontIsInGrid),n.backIsRandom=s.getDataOrDefault(i,"back-israndom",e.backIsRandom),n.backIsInGrid=s.getDataOrDefault(i,"back-isingrid",e.backIsInGrid)),n.doSwapFront=t.inArray("html",e.swapFront)>-1&&e.frontContent instanceof Array&&e.frontContent.length>0,n.doSwapBack=t.inArray("html",e.swapBack)>-1&&e.backContent instanceof Array&&e.backContent.length>0,e.htmlSwap="undefined"!=typeof e.htmlSwap?t.extend(n,e.htmlSwap):n,e.htmlSwap.doSwapFront&&(e.htmlSwap.frontBag=this.prepBag(e.htmlSwap.frontBag,e.frontContent,e.htmlSwap.prevFrontIndex),e.htmlSwap.frontStaticRndm=e.htmlSwap.frontBag.pop()),e.htmlSwap.doSwapBack&&(e.htmlSwap.backBag=this.prepBag(e.htmlSwap.backBag,e.backContent,e.htmlSwap.prevBackIndex),e.htmlSwap.backStaticRndm=e.htmlSwap.backBag.pop())},prepBag:function(t,e,i){var n,s;for(t=t||[],n=0,s=0;s<e.length;s++)(s!=i||1===t.length)&&(t[n]=s,n++);return a.shuffleArray(t)},getFrontSwapIndex:function(t){var e=0;return t.htmlSwap.frontIsRandom?(0===t.htmlSwap.frontBag.length&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.prevFrontIndex)),e=t.htmlSwap.frontIsInGrid?t.htmlSwap.frontStaticRndm:t.htmlSwap.frontBag.pop()):e=t.htmlSwap.frontIsInGrid?t.htmlSwap.frontStaticIndex:t.htmlSwap.frontIndex,e},getBackSwapIndex:function(t){var e=0;return t.htmlSwap.backIsRandom?(0===t.htmlSwap.backBag.length&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.prevBackIndex)),e=t.htmlSwap.backIsInGrid?t.htmlSwap.backStaticRndm:t.htmlSwap.backBag.pop()):e=t.htmlSwap.backIsInGrid?t.htmlSwap.backStaticIndex:t.htmlSwap.backIndex,e},action:function(t,e,i,n){if(t.htmlSwap.doSwapFront||t.htmlSwap.doSwapBack){var s="flip-list"===t.mode,a=0,r=s?t.listData[Math.max(n,0)].isReversed:t.isReversed;if(s&&-1==n)return r?t.htmlSwap.doSwapBack&&(0===t.htmlSwap.backBag.length&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.backStaticRndm)),t.htmlSwap.backStaticRndm=t.htmlSwap.backBag.pop(),t.htmlSwap.backStaticIndex++,t.htmlSwap.backStaticIndex>=t.backContent.length&&(t.htmlSwap.backStaticIndex=0)):t.htmlSwap.doSwapFront&&(0===t.htmlSwap.frontBag.length&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.frontStaticRndm)),t.htmlSwap.frontStaticRndm=t.htmlSwap.frontBag.pop(),t.htmlSwap.frontStaticIndex++,t.htmlSwap.frontStaticIndex>=t.frontContent.length&&(t.htmlSwap.frontStaticIndex=0)),void 0;if(r){if(!t.htmlSwap.doSwapBack)return;a=this.getBackSwapIndex(t),t.htmlSwap.prevBackIndex=a,i.html(t.backContent[t.htmlSwap.backIndex]),t.htmlSwap.backIndex++,t.htmlSwap.backIndex>=t.backContent.length&&(t.htmlSwap.backIndex=0),s||(t.htmlSwap.backStaticIndex++,t.htmlSwap.backStaticIndex>=t.backContent.length&&(t.htmlSwap.backStaticIndex=0))}else{if(!t.htmlSwap.doSwapFront)return;a=this.getFrontSwapIndex(t),t.htmlSwap.prevFrontIndex=a,"slide"===t.mode?t.startNow?i.html(t.frontContent[a]):e.html(t.frontContent[a]):i.html(t.frontContent[a]),t.htmlSwap.frontIndex++,t.htmlSwap.frontIndex>=t.frontContent.length&&(t.htmlSwap.frontIndex=0),s||(t.htmlSwap.frontStaticIndex++,t.htmlSwap.frontStaticIndex>=t.frontContent.length&&(t.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{moduleName:"image",data:{preloadImages:!1,imageCssSelector:">img,>a>img",fadeSwap:!1,frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(e,i){var n={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1},a=e.ignoreDataAttributes;a?(n.imageCssSelector=s.getDataOrDefault(i,"image-css",e.imageCssSelector),n.fadeSwap=s.getDataOrDefault(i,"fadeswap",e.fadeSwap),n.frontIsRandom=s.getDataOrDefault(i,"front-israndom",e.frontIsRandom),n.frontIsInGrid=s.getDataOrDefault(i,"front-isingrid",e.frontIsInGrid),n.frontIsBackgroundImage=s.getDataOrDefault(i,"front-isbg",e.frontIsBackgroundImage),n.backIsRandom=s.getDataOrDefault(i,"back-israndom",e.backIsRandom),n.backIsInGrid=s.getDataOrDefault(i,"back-isingrid",e.backIsInGrid),n.backIsBackgroundImage=s.getDataOrDefault(i,"back-isbg",e.backIsBackgroundImage),n.doSwapFront=t.inArray("image",e.swapFront)>-1&&e.frontImages instanceof Array&&e.frontImages.length>0,n.doSwapBack=t.inArray("image",e.swapBack)>-1&&e.backImages instanceof Array&&e.backImages.length>0,n.alwaysSwapFront=s.getDataOrDefault(i,"front-alwaysswap",e.alwaysSwapFront),n.alwaysSwapBack=s.getDataOrDefault(i,"back-alwaysswap",e.alwaysSwapBack)):(n.imageCssSelector=e.imageCssSelector,n.fadeSwap=e.fadeSwap,n.frontIsRandom=e.frontIsRandom,n.frontIsInGrid=e.frontIsInGrid,n.frontIsBackgroundImage=e.frontIsBackgroundImage,n.backIsRandom=e.backIsRandom,n.backIsInGrid=e.backIsInGrid,n.backIsBackgroundImage=e.backIsBackgroundImage,n.doSwapFront=t.inArray("image",e.swapFront)>-1&&e.frontImages instanceof Array&&e.frontImages.length>0,n.doSwapBack=t.inArray("image",e.swapBack)>-1&&e.backImages instanceof Array&&e.backImages.length>0,n.alwaysSwapFront=e.alwaysSwapFront,n.alwaysSwapBack=e.alwaysSwapBack),e.imgSwap="undefined"!=typeof e.imgSwap?t.extend(n,e.imgSwap):n,e.imgSwap.doSwapFront&&(e.imgSwap.frontBag=this.prepBag(e.imgSwap.frontBag,e.frontImages,e.imgSwap.prevFrontIndex),e.imgSwap.frontStaticRndm=e.imgSwap.frontBag.pop(),e.preloadImages&&t(e.frontImages).metrojs.preloadImages(function(){})),e.imgSwap.doSwapBack&&(e.imgSwap.backBag=this.prepBag(e.imgSwap.backBag,e.backImages,e.imgSwap.prevBackIndex),e.imgSwap.backStaticRndm=e.imgSwap.backBag.pop(),e.preloadImages&&t(e.backImages).metrojs.preloadImages(function(){}))},prepBag:function(t,e,i){var n,s;for(t=t||[],n=0,s=0;s<e.length;s++)(s!=i||1===e.length)&&(t[n]=s,n++);return a.shuffleArray(t)},getFrontSwapIndex:function(t){var e=0;return t.imgSwap.frontIsRandom?(0===t.imgSwap.frontBag.length&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.prevFrontIndex)),e=t.imgSwap.frontIsInGrid?t.imgSwap.frontStaticRndm:t.imgSwap.frontBag.pop()):e=t.imgSwap.frontIsInGrid?t.imgSwap.frontStaticIndex:t.imgSwap.frontIndex,e},getBackSwapIndex:function(t){var e=0;return t.imgSwap.backIsRandom?(0===t.imgSwap.backBag.length&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.prevBackIndex)),e=t.imgSwap.backIsInGrid?t.imgSwap.backStaticRndm:t.imgSwap.backBag.pop()):e=t.imgSwap.backIsInGrid?t.imgSwap.backStaticIndex:t.imgSwap.backIndex,e},setImageProperties:function(e,i,n){var s={},a={};"undefined"!=typeof i.src&&(n?s.backgroundImage="url('"+i.src+"')":a.src=i.src),"undefined"!=typeof i.alt&&(a.alt=i.alt),"object"==typeof i.css?e.css(t.extend(s,i.css)):e.css(s),"object"==typeof i.attr?e.attr(t.extend(a,i.attr)):e.attr(a)},action:function(t,e,i,n){var s,a,o,l;if(t.imgSwap.doSwapFront||t.imgSwap.doSwapBack){var h="flip-list"===t.mode,c=("slide"==t.mode,0),u=h?t.listData[Math.max(n,0)].isReversed:t.isReversed;if(h&&-1==n)return(t.alwaysSwapFront||!u)&&t.imgSwap.doSwapFront&&(0===t.imgSwap.frontBag.length&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.frontStaticRndm)),t.imgSwap.frontStaticRndm=t.imgSwap.frontBag.pop(),t.imgSwap.frontStaticIndex++,t.imgSwap.frontStaticIndex>=t.frontImages.length&&(t.imgSwap.frontStaticIndex=0)),(t.alwaysSwapBack||u)&&t.imgSwap.doSwapBack&&(0===t.imgSwap.backBag.length&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.backStaticRndm)),t.imgSwap.backStaticRndm=t.imgSwap.backBag.pop(),t.imgSwap.backStaticIndex++,t.imgSwap.backStaticIndex>=t.backImages.length&&(t.imgSwap.backStaticIndex=0)),void 0;if(t.alwaysSwapFront||!u){if(!t.imgSwap.doSwapFront)return;c=this.getFrontSwapIndex(t),t.imgSwap.prevFrontIndex=c,s="slide"===t.mode?e:i,a=s.find(t.imgSwap.imageCssSelector),o="object"==typeof t.frontImages[c]?t.frontImages[c]:{src:t.frontImages[c]},l=function(e){var i=t.imgSwap.frontIsBackgroundImage;"function"==typeof e&&(i?window.setTimeout(e,100):a[0].onload=e),r.imageSwap.setImageProperties(a,o,i)},t.fadeSwap?a.fadeOut(function(){l(function(){a.fadeIn()})}):l(),t.imgSwap.frontIndex++,t.imgSwap.frontIndex>=t.frontImages.length&&(t.imgSwap.frontIndex=0),h||(t.imgSwap.frontStaticIndex++,t.imgSwap.frontStaticIndex>=t.frontImages.length&&(t.imgSwap.frontStaticIndex=0))}if(t.alwaysSwapBack||u){if(!t.imgSwap.doSwapBack)return;c=this.getBackSwapIndex(t),t.imgSwap.prevBackIndex=c,s=i,a=s.find(t.imgSwap.imageCssSelector),o="object"==typeof t.backImages[c]?t.backImages[c]:{src:t.backImages[c]},l=function(){r.imageSwap.setImageProperties(a,o,t.imgSwap.backIsBackgroundImage)},t.fadeSwap?a.fadeOut(function(){l(function(){a.fadeIn()})}):l(),t.imgSwap.backIndex++,t.imgSwap.backIndex>=t.backImages.length&&(t.imgSwap.backIndex=0),h||(t.imgSwap.backStaticIndex++,t.imgSwap.backStaticIndex>=t.backImages.length&&(t.imgSwap.backStaticIndex=0))}}}}};t.fn.metrojs.TileTimer=function(t,e,n){this.timerId=null,this.interval=t,this.action=e,this.count=0,this.repeatCount="undefined"==typeof n?0:n,this.start=function(e){window.clearTimeout(this.timerId);var i=this;this.timerId=window.setTimeout(function(){i.tick.call(i,t)},e)},this.tick=function(t){this.action(this.count+1),this.count++,this.count>=i&&(this.count=0),(this.repeatCount>0||-1==this.repeatCount)&&(this.count!=this.repeatCount?this.start(t):this.stop())},this.stop=function(){this.timerId=window.clearTimeout(this.timerId),this.reset()},this.resume=function(){(this.repeatCount>0||-1==this.repeatCount)&&this.count!=this.repeatCount&&this.start(t)},this.pause=function(){this.timerId=window.clearTimeout(this.timerId)},this.reset=function(){this.count=0},this.restart=function(t){this.stop(),this.start(t)}},jQuery.fn.metrojs.theme={loadDefaultTheme:function(t){var e,i,n;"undefined"==typeof t||null==t?t=jQuery.fn.metrojs.theme.defaults:(e=jQuery.fn.metrojs.theme.defaults,jQuery.extend(e,t),t=e),i="undefined"!=typeof window.localStorage,n=function(t){return"undefined"!=typeof window.localStorage[t]&&null!=window.localStorage[t]},!i||n("Metro.JS.AccentColor")&&n("Metro.JS.BaseAccentColor")?i?(t.accentColor=window.localStorage["Metro.JS.AccentColor"],t.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor)):(jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor),"undefined"!=typeof t.preloadAltBaseTheme&&t.preloadAltBaseTheme&&jQuery(["dark"==t.baseTheme?t.metroLightUrl:t.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=t.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=t.baseTheme,jQuery(t.accentCssSelector).addClass(t.accentColor).data("accent",t.accentColor),jQuery(t.baseThemeCssSelector).addClass(t.baseTheme),"function"==typeof t.loaded&&t.loaded(t.baseTheme,t.accentColor),"undefined"!=typeof t.preloadAltBaseTheme&&t.preloadAltBaseTheme&&jQuery(["dark"==t.baseTheme?t.metroLightUrl:t.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(t,e,i){var n,s,a,r;"undefined"==typeof i||null==i?i=jQuery.fn.metrojs.theme.defaults:(n=jQuery.fn.metrojs.theme.defaults,i=jQuery.extend({},n,i)),"undefined"!=typeof t&&null!=t&&("undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.BaseAccentColor"]=t),s=jQuery(i.baseThemeCssSelector),s.length>0&&("dark"==t?s.addClass("dark").removeClass("light"):"light"==t&&s.addClass("light").removeClass("dark"))),"undefined"!=typeof e&&null!=e&&("undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.AccentColor"]=e),a=jQuery(i.accentCssSelector),a.length>0&&(r=!1,a.each(function(){var t,i;jQuery(this).addClass(e),t=jQuery(this).data("accent"),t!=e&&(i=jQuery(this).attr("class").replace(t,""),i=i.replace(/(\s)+/," "),jQuery(this).attr("class",i),jQuery(this).data("accent",e),r=!0)}),r&&"function"==typeof i.accentPicked&&i.accentPicked(e)))},appendAccentColors:function(e){var i,n;"undefined"==typeof e||null==e?e=jQuery.fn.metrojs.theme.defaults:(i=jQuery.fn.metrojs.theme.defaults,e=jQuery.extend({},i,e));var s="",a=e.accentColors,r=e.accentListTemplate;for(n=0;n<a.length;n++)s+=r.replace(/\{0\}/g,a[n]);t(s).appendTo(e.accentListContainer)},appendBaseThemes:function(e){var i,n;"undefined"==typeof e||null==e?e=jQuery.fn.metrojs.theme.defaults:(i=jQuery.fn.metrojs.theme.defaults,e=jQuery.extend({},i,e));var s="",a=e.baseThemes,r=e.baseThemeListTemplate;for(n=0;n<a.length;n++)s+=r.replace(/\{0\}/g,a[n]);t(s).appendTo(e.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","blue","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mango","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",accentListContainer:"ul.theme-options,.theme-options>ul",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",baseThemeListContainer:"ul.base-theme-options,.base-theme-options>ul"}},jQuery.fn.applicationBar=function(e){var i,n="undefined"!=typeof jQuery.fn.metrojs.theme?jQuery.fn.metrojs.theme.defaults:{};if(jQuery.extend(n,jQuery.fn.applicationBar.defaults,e),"undefined"!=typeof jQuery.fn.metrojs.theme){i=jQuery.fn.metrojs.theme,n.shouldApplyTheme&&i.loadDefaultTheme(n);var s=n.accentListContainer.replace(","," a,")+" a",a=function(){var t=jQuery(this).attr("class").replace("accent","").replace(" ","");i.applyTheme(null,t,n),"function"==typeof n.accentPicked&&n.accentPicked(t)},r=n.baseThemeListContainer.replace(","," a,")+" a",o=function(){var t=jQuery(this).attr("class").replace("accent","").replace(" ","");i.applyTheme(t,null,n),"function"==typeof n.themePicked&&n.themePicked(t)};"function"==typeof t.fn.on?(t(this).on("click.appBar",s,a),t(this).on("click.appBar",r,o)):(t(s).live("click.appBar",a),t(r).live("click.appBar",o))}return t(this).each(function(e,i){var s=t(i),a=t.extend({},n);"auto"==a.collapseHeight&&(a.collapseHeight=t(this).height()),navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||s.css({position:"absolute",bottom:"0px"})),a.slideOpen=function(){s.hasClass("expanded")||a.animateAppBar(!1)},a.slideClosed=function(){s.hasClass("expanded")&&a.animateAppBar(!0)},a.animateAppBar=function(t){var e=t?a.collapseHeight:a.expandHeight;t?s.removeClass("expanded"):s.hasClass("expanded")||s.addClass("expanded"),s.stop().animate({height:e},{duration:a.duration})},s.data("ApplicationBar",a),s.find(n.handleSelector).click(function(){a.animateAppBar(s.hasClass("expanded"))}),1==a.bindKeyboard&&jQuery(document.documentElement).keyup(function(t){38==t.keyCode?t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&(s.hasClass("expanded")||a.animateAppBar(!1)):40==t.keyCode&&t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&s.hasClass("expanded")&&a.animateAppBar(!0)})})},jQuery.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"auto",bindKeyboard:!0,handleSelector:"a.etc",metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1},t.fn.metrojs.preloadImages=function(e){var i=t(this).toArray(),n=t("<img style='display:none;' />").appendTo("body");t(this).each(function(){var t=this;"object"==typeof this&&(t=this.src),n.attr({src:t}).load(function(){for(var t=0;t<i.length;t++)i[t]==element&&i.splice(t,1);0==i.length&&e()})}),n.remove()},t.fn.metrojs.MetroModernizr=function(e){if("undefined"==typeof e&&(e={useHardwareAccel:!0,useModernizr:"undefined"!=typeof window.Modernizr}),this.isOldJQuery=/^1\.[0123]/.test(t.fn.jquery),this.isOldAndroid=function(){var e,i;try{if(e=navigator.userAgent,e.indexOf("Android")>=0&&(i=parseFloat(e.slice(e.indexOf("Android")+8)),2.3>i))return!0}catch(n){t.error(n)}return!1}(),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=e.useHardwareAccel,1==e.useHardwareAccel)if(0==e.useModernizr)if("undefined"!=typeof window.MetroModernizr)this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var i="metromodernizr",n=document.documentElement,s=document.head||document.getElementsByTagName("head")[0],a=document.createElement(i),r=a.style,o=" -webkit- -moz- -o- -ms- ".split(" "),l="Webkit Moz O ms Khtml".split(" "),h=function(t,e){for(var i in t)if(void 0!==r[t[i]]&&(!e||e(t[i],a)))return!0},c=function(t,e){var i=t.charAt(0).toUpperCase()+t.substr(1),n=(t+" "+l.join(i+" ")+i).split(" ");return!!h(n,e)},u=function(){var t=!!h(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return t&&"webkitPerspective"in n.style&&(t=d(["@media (",o.join("transform-3d),("),i,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(t){return 3===t.offsetHeight&&9===t.offsetLeft})),t},d=function(t,e){var a,r=document.createElement("style"),o=document.createElement("div");return r.textContent=t,s.appendChild(r),o.id=i,n.appendChild(o),a=e(o),r.parentNode.removeChild(r),o.parentNode.removeChild(o),!!a},f=function(){return canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0||d(["@media (",o.join("touch-enabled),("),i,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(t){return 9===t.offsetTop})};this.canTransform=!!h(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=c("transitionProperty"),this.canTransform3d=u(),this.canAnimate=c("animationName"),this.canTouch=f(),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,n=null,s=null,a=null,r=null}else this.canTransform=t("html").hasClass("csstransforms"),this.canTransition=t("html").hasClass("csstransitions"),this.canTransform3d=t("html").hasClass("csstransforms3d"),this.canAnimate=t("html").hasClass("cssanimations"),this.canTouch=t("html").hasClass("touch")||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}}(jQuery);